# Experimental!
N â† 200

SpaceG     â† $ 
GrayG      â† $ #_
GreenG     â† $ Â¬Â±Â¯âŒµâˆšâˆ¿âŒŠâŒˆâ…â§»â–³â‡¡âŠ¢âŠ£â‡Œâ™­Â¤â‹¯â†ââ–âŠšâŠ›â—´â—°â–¡â‹•&
BlueG      â† $ =â‰ <â‰¤>â‰¥+-Ã—Ã·â—¿âˆ¨â¿â‚™â†§â†¥âˆ â„‚â‰âŠŸâŠ‚âŠâŠ¡â†¯â†™â†˜â†»â¤¸â–½âŒ•â¦·âˆŠâŠ—â¤
YellowG    â† $ /âˆ§\âˆµâ‰¡âšâŠâ§…â§ˆâ¥âŠ•âŠœâ—‡â‹…âŠ™ğ„âŸœâŠ¸â¤™â¤šâ— â—¡ğ„ˆâŒ…Â°âŒâ©âˆ‚âˆ«
MagentaG   â† $ âœâŠƒâŠ“â¢â¬šâ¨¬â£
RedG       â† $ âš‚
OrangeG    â† $ Î·Ï€Ï„âˆÂ¯0123456789
LightBlueG â† $ @$"
TransG     â† $ â‰
BothG      â† $ âˆ©
Glyphs â† {
  SpaceG GrayG GreenG BlueG YellowG
  MagentaG RedG OrangeG LightBlueG {}
}
SpecialGlyphs â† {TransG BothG}
SubscriptG    â† $ â‚‹â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰âŒâŒŸ

SpaceC     â† Ã·255 [0 0 0 0]
GrayC      â† Ã·255 [150 157 163 255]
GreenC     â† Ã·255 [149 208 105 255]
BlueC      â† Ã·255 [84 175 252 255]
YellowC    â† Ã·255 [238 194 110 255]
MagentaC   â† Ã·255 [203 106 231 255]
RedC       â† Ã·255 [237 93 105 255]
OrangeC    â† Ã·255 [255 136 85 255]
LightBlueC â† Ã·255 [31 249 252 255]
PurpleC    â† Ã·255 [114 118 240]
WhiteC     â† Ã·255 [208 218 236 255]
Colors â† {
  SpaceC GrayC GreenC BlueC YellowC
  MagentaC RedC OrangeC LightBlueC PurpleC
}
SpecialColors â† {Trans Bi}

GreenF â† {
  "&fras" "wait" "recv" "tryrecv" "utfâ‚ˆ" "graphemes"
  "json" "csv" "xlsx" "img" "gif" "type" "datetime"
  "repr" "&cd" "&fo" "&fc" "&fmd" "&fde" "&ftr"
  "&fe" "&fld" "&fif" "&frab" "&s"
  "&pf" "&p" "&epf" "&ep" "&raw" "&var" "&cl"
  "&runi" "&runc" "&runs" "&invk" "&ims" "&ap"
  "&tcpl" "&tcpa" "&tcpc" "&tlsc" "&tcpsnb"
  "&tcpaddr" "&exit" "&sl" "&camcap"
}
BlueF â† {
  "send" "map" "has" "get" "remove" "gen"
  "regex" "&fwa" "&rs" "&rb" "&ru" "&w"
  "&gifs" "&tcpsrt" "&tcpswt"
}
YellowF â† {
  "memo" "comptime" "dump" "spawn" "pool" "&rl"
  "&ast"
}
MagentaF â† {"path"}
PurpleF  â† {"insert" "audio"}
RedF â† {
  "tag" "now" "timezone" "&sc" "&ts" "&args"
  "&asr" "&clip"
}
Functions â† {
  {} {} GreenF BlueF YellowF
  MagentaF RedF {} {} PurpleF
}

Replace â† âœâŠœâˆ˜âŠâ‹…âˆ˜âŠ¸â¦·âŠ™:

MarkStrings     â† â¬š0â†¯ Â¤âŠƒâ§»(â—¿2\+ âœâŠš(âœâ–½+â‚â—¿2Â°âŠ) =@")
MarkChar        â† âœâŠš(+â‚ â–½Â¬â¤šâˆŠâŸœ-â‚)=
MarkComment     â† \â†¥=@#
MarkBeforeDigit â† âœâŠš(â–½â¤š(â‰¡â£(â¿0â‹•)0 â¬š@$âŠ+â‚))âŠ¸=
MarkFunctions â† â¬šÂ¯1â†¯ Â¤âŠƒâ§»(
  FunctionsÂ¤Â¤
  â¬š0â‰¡â—‡(/â†¥ â¬š0â‰¡â—‡(Â°âŠš â™­âŠ+ â‡¡âŠƒâ§»(âŠšâŒ•)))
  -â‚/â†¥Ã— +â‚Â°âŠ
)

FindGlyphColors â† (
  {SpecialGlyphs Glyphs}Â¤Â¤
  â‰¡â—‡(â‰¡â¬šâˆâŠ—1â‰â‰¡â—‡âˆŠ)
  â†§1âŠ—1âŠ¸<âˆâ‰
)

ApplySpecialColor â† (
  â‰¡âŠ‚:1
  âˆ§âœâŠ(â†¯3)0_Â¯1
  â–½Ã·9âŠ™â‰¡â†¯â¤™Ã—0.6N
)

&fras"code.ua"
Replace "@ " "@\\s"
âŠœâ–¡âŠ¸â‰ @\n

âš(âŠƒ(/â†¥[âŠƒ(
      | Ã—3 MarkBeforeDigit @e
      | Ã—3 MarkBeforeDigit @.
      | Ã—3 MarkBeforeDigit @/
      | Ã—3 MarkBeforeDigit @Â¯
      | Ã—2 MarkComment
      | MarkStrings
      | MarkChar @\\
      | MarkChar @@
      )]
  | âŠ¸FindGlyphColors
  )
)

âšâ‰¡â¨¬(
  âˆ˜
| 1 â†¯2âŠ— â–¡LightBlueG Glyphs â—Œâ—Œ
| 1 â†¯2âŠ— â–¡GrayG Glyphs â—Œâ—Œ
| 1 â†¯2âŠ— â–¡OrangeG Glyphs â—Œâ—Œ
)

:âŠ™,
âš(â—‡â‰¡â¨¬â—ŒâŠƒâ‹…1(âœâŠ™âŠ£âŠ™â—ŒâŠ™â—Œ) âŠ¸â‰ Â¯1 MarkFunctions)

:âŠ™,
âš(â—‡(âˆ§â¨¬â—Œ(âˆ©(âœâŠ™âŠ¡âŠ™â—Œ: âœ-â‚âŸœâŠ¸âŠ¡)âŸœ:) :Â°âŠ) âˆŠSubscriptG)

/âŠ‚â¬š0â‰¡â—‡(
  â‰¡(â¨¬(Ã—âŠ“(
        â—‡ApplySpecialColorâŠ¡:SpecialColors
      | layout{N White})
    | layoutâŠŸNâ¬šWhiteCâŠ¡:Colors
    )âŸœâŠ¡)
  â¤¸1â™­â‚ƒâ¤¸0_2
)
